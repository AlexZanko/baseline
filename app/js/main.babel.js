"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},r=Math.pow(2,53)-1,o=function(e){var t,o=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(o,0),r)};return function(e){var r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var l,c=o(r.length),i=t(this)?Object(new this(c)):new Array(c),s=0;s<c;)l=r[s],i[s]=a?void 0===n?a(l,s):a.call(n,l,s):l,s+=1;return i.length=c,i}}()),validate.init({messageValueMissing:"Это поле обязательное для заполнения",messagePatternMismatch:"Заполните поле в необходимом формате",messageValueMissingCheckbox:"Поле должно быть активировано",messageRangeUnderflow:"Недостаточная длина поля",messageRangeOverflow:"Превышена длина поля",disableSubmit:!0,onSubmit:function(e,t){var r=e.querySelectorAll(".step-block"),o=0;[].concat(_toConsumableArray(r)).forEach(function(e,t){e.classList.contains("active")&&(console.log(t),o=t)}),moveAction(o+1)}});var stepAction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".step-container",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".tab-block-navigation nav",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".tab-block-stepform .step-block",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".step-block-trigger",n=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],document.querySelectorAll(e));[].concat(_toConsumableArray(n)).forEach(function(e){e.querySelectorAll(o);var n=e.querySelectorAll(r).length,a=createNav(n);a&&e.querySelector(t).appendChild(a);validateStep(moveAction)})},validateStep=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".tab-block-stepform .step-block",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"button.step-event",o=document.querySelectorAll(t);[].concat(_toConsumableArray(o)).forEach(function(t,o){var n=t.querySelector(r);if(null!==n){var a=t;n.addEventListener("click",function(t){var r=a.querySelectorAll("input");[].concat(_toConsumableArray(r)).forEach(function(e){validate.hasError(e)&&validate.showError(e,"Это поле обязательное для заполнения")});[].concat(_toConsumableArray(r)).some(function(e){return validate.hasError(e)})||e(o+1)})}})},createNav=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tab-block-navigation-list",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tab-block-navigation-list__item";if(e>0){var o=document.createElement("ul");o.classList.add(t);for(var n=0;n<e;n++){var a=document.createElement("li");a.classList.add(r),0==n&&a.classList.add("active"),a.textContent=n+1,o.appendChild(a)}return o}return!1},moveAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".tab-block-imagestack .step-block,.tab-block-content-area__formarea .step-block, .tab-block-navigation-list li",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".tab-block-step",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"tab-block-step-",a=document.querySelector(o);t.split(",").forEach(function(t){var o=document.querySelectorAll(t);t.length>0&&[].concat(_toConsumableArray(o)).forEach(function(t,o){o==e?(t.classList.add(r),a.classList.add(""+n+o)):(t.classList.remove(r),a.classList.remove(""+n+o))})})};stepAction();var passwordRepeatChecker=function(e){[].concat(_toConsumableArray(document.querySelectorAll(e))).forEach(function(e){console.log(e.querySelector(".password-parent"));var t=e.querySelector(".password-parent"),r=e.querySelector(".password-child");passwordCheckEvent(t,r)})},passwordCheckEvent=function(e,t){e.addEventListener("keyup",function(e){t.setAttribute("pattern",this.value)}),t.addEventListener("keyup",function(r){this.value!==e.value?validate.showError(t,"Пароли не совпадают"):validate.removeError(t)})};passwordRepeatChecker(".password-group");var copyValue=function(e,t){var r=document.querySelector(e),o=document.querySelector(t);null!=r&&r.addEventListener("keyup",function(e){o.textContent=this.value})};copyValue('input[name="user-tel"]',".tel-field-val");var phoneMask=function(e,t){var r=document.querySelectorAll(e);[].concat(_toConsumableArray(r)).forEach(function(e){e.addEventListener("keyup",function(e){this.value.length<t.length&&(this.value=t)})})};phoneMask('input[name="user-tel"]',"+375");
